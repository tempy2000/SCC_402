<html>
    <head>
        <title>AR.js Basic Projected Camera Example</title>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <!-- Loading the modified version of A-Frame -->
        <script src="aframe-ar-nft.js"></script>
        <!-- Look-at component. We don't need this now, but we will later. -->
        <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
        <script type='text/javascript' src='MazeMapWithRouteEdit.js'></script>
        <style>

          .buttons {
            position: fixed;
            display: inline-block;
            top: 10px;
            width:100%;
            z-index: 1;
          }

          .button{
            display: block;
            border-radius: 6px;
            background-color: white;
            padding: 18px 44px;
            margin: 15px;
            font-weight: bold;
          }

          #showHide {
            padding: 10px 12px;
            margin-left: 0;
            margin-top: 0;
            min-width: 44px;
            font-size: 20px;
          }


          #routeBtns {
            display: none;
          }

          .startStop {
            position: absolute; 
            right: 0;
            z-index: 1;
          }

        </style>
    </head>
    <body>
      <div class="buttons">
        <button onclick="toggleRoutesMenu()" id = "showHide" class="button">></button>
        <div id="routeBtns">
          <button onclick="setRoute(1)" id = "routeOneButton" class="button">Route 1</button>
          <button onclick="setRoute(2)" id = "routeTwoButton" class="button">Route 2</button>
          <button onclick="setRoute(3)" id = "routeThreeButton" class="button">Route 3</button>
        </div>
      </div>
      <div class="startStop">
        <button onclick="toggleStartStopButton()" id = "startStopButton" class="button">Start</button>
      </div>
      <a-scene
          vr-mode-ui="enabled: false"
          arjs='sourceType: webcam; sourceWidth:1080; sourceHeight:2160; displayWidth: 1080; displayHeight: 2160; videoTexture: true; debugUIEnabled: false;'
          renderer='antialias: true; alpha: true'>
              <a-camera gps-projected-camera='minDistance: 0; maxDistance: 5000;' rotation-reader></a-camera>
              <a-box gps-projected-entity-place material='color: red' scale='10 10 10'></a-box>
              <a-entity peakfinder></a-entity>
          </a-scene>
    </body>
</html>

<script>
function toggleStartStopButton() {
  var button = document.getElementById("startStopButton");
  if(button.innerHTML=="Start"){
    start();
    button.innerHTML="Stop";
  }
  else if(button.innerHTML=="Stop"){
    stop();
    button.innerHTML="Start";
  }
}

function toggleRoutesMenu() {
    var btns = document.getElementById("routeBtns");

    if (btns.style.display !== "block") {
      btns.style.display = "block";
      document.getElementById("showHide").innerHTML = "-";
    } else {
      btns.style.display = "none";
      document.getElementById("showHide").innerHTML = ">";
    }
  }


  function setRoute(route){
    setRouteId(route);
    if (route === 1){
      toggleRoutesMenu()
    }
    else if (route === 2){
      toggleRoutesMenu()
    }
    else if (route === 3){
      toggleRoutesMenu()
    }

  }


</script>
<!--<html>
<!DOCTYPE html>
<head>
    <meta name="viewport" id="vp" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width" />
    <meta charset="utf-8" />
    <script type='text/javascript' src='https://api.mazemap.com/js/v2.0.56/mazemap.min.js'></script>
    <link rel="stylesheet" href="https://api.mazemap.com/js/v2.0.56/mazemap.min.css">
  -->
    <!-- include aframe -->
    <!-- with location based, use aframe v0.9.2 -->
    <!--<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>-->
    <!-- include ar.js -->
    <!--<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>-->
    <!-- <script src="MazeMapWithRouteEdit.js"></script> -->
    <!--<style>
        body { margin:0px; padding:0px; width: 100%; height:100%; }
    </style>
</head>
<body>
    <div id="map" class="mazemap"></div>


    <a-scene
        vr-mode-ui="enabled: false"
        embedded
        arjs="sourceType: webcam; debugUIEnabled: false;"
    >-->
        <!-- latitude: <add-your-latitude>; longitude: <add-your-longitude>; -->
        <!--"latitude: 54.005421; longitude: -2.785180;"-->
        <!--<a-camera gps-camera rotation-reader> </a-camera>
    </a-scene>

    <script>
        const entity = document.createElement('a-text');
        entity.setAttribute('look-at', '[gps-projected-camera]');
        entity.setAttribute('value', "Test Item");
        entity.setAttribute('scale', {
            x: 120,
            y: 120,
            z: 120
        });
        entity.setAttribute('gps-projected-entity-place', {
                latitude: 54.00580783752977,
                longitude: -2.7859756350517273
            });
        document.querySelector("body > a-scene").appendChild(entity);

        const box = document.createElement('a-box');
        box.setAttribute('color', 'red');
        box.setAttribute('position', {x:0, y:2, z:-5});
        box.setAttribute('scale', {
            x: 2,
            y: 2,
            z: 2
        });
        box.setAttribute('gps-projected-entity-place', {
                latitude: 54.00580783752977,
                longitude: -2.7859756350517273
            });
        document.querySelector("body > a-scene").appendChild(box);


        const watchId = navigator.geolocation.watchPosition(position => {

            const { latitude, longitude } = position.coords;

            // 54.00580783752977, -2.7859756350517273
        });
    </script>
</body>
</html>-->
